---
title: PID控制算法原理
abbrlink: o87f8e0d
date: 2025-11-07 00:00:00
tags: 教程
---


部分例子来自[知乎文章](https://zhuanlan.zhihu.com/p/39573490)



### P比例控制

$$
u(k)=Kp \times e(k)
$$

**Kp：**P比例系数，可以理解为放大倍数.

**$e(k)=Expect - X_k$:** 第k时刻的偏差.

控制及时，但不能消除偏差，会在目标值附近进行波动.

------

**For instance,**

假设水缸里的水位是0.2米，那么当前时刻的水位和目标水位之间是存在一个误差的error，且error为0.8.

这个时候，假设旁边站着一个人，这个人通过往缸里加水的方式来控制水位。如果单纯的用比例控制算法，就是指加入的水量u和误差error是成正比的。即$u=kp*error$
假设Kp取0.5，
**t=1时**，这一次加入的水量会使水位在0.2的基础上上升0.4，达到0.6.
**t=2时**，当前水位是0.6，所以error是0.4。$u=0.5*0.4=0.2$，会使水位再次上升0.2，达到0.8.
**以此类推**

>稳态误差：
>假设这个水缸在加水的过程中，存在漏水的情况，假设每次加水的过程，都会漏掉0.1米高度的水。仍然假设kp取0.5，那么会存在着某种情况，假设经过几次加水，水缸中的水位到0.8时，水位将不会再变换！！！因为，水位为0.8，则误差error=0.2. 所以每次往水缸中加水的量为u=0.5*0.2=0.1.同时，每次加水，缸里又会流出去0.1米的水！！！加入的水和流出的水相抵消，水位将不再变化！！

### I积分控制

$$
u(k)=K_i \times \frac{∑e_i}{T_i}
$$

(由于偏差的累积效应，使得系统第一次达到期望值时，过去所有时刻都未达标，即$$∑e_i$$很大，所以曲线其实会超过期望的那条虚线并持续增长，所以，我们通常会在I环节中除以积分时间$$T_i$$，)

**$∑ e_i$**：对过去所有时间的偏差进行求和.

在控制系统刚启动时，由于I环节的 偏差累积效应，可以 **更快**的达到期望值。但仅考虑以前. 但当输入突变时，输出不会突变——降低了系统的反应速度(“滞后”控制作用).

>系统卡在稳态误差了，即上例中的0.8，由于加入了积分项的存在，会让输入增大，从而使得水缸的水位可以大于0.8，渐渐到达目标的1.0.

### D微分控制

$$
u(t)=K_d \times \frac{de(t)}{dt}
$$

有函数变化率，有超前控制作用，减少超调量，缩短调节时间，. 偏差不发生改变的情况下不会起作用，因此微分控制不能单独使用.

>这个微分项的作用，就可以理解为刹车，当车离停车线很近并且车速还很快时，这个微分项的绝对值（实际上是一个负数）就会很大，从而表示应该用力踩刹车才能让车停下来。

